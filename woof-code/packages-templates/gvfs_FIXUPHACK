#!/bin/sh

#Disable gvfs-mtp, gvfs-gphoto2, and gvfs-udisks2

for file1 in org.gtk.vfs.MTPVolumeMonitor.service mtp.monitor org.gtk.vfs.GPhoto2VolumeMonitor.service gphoto2.monitor org.gtk.vfs.UDisks2VolumeMonitor.service udisks2.monitor
do

 for file2 in $(find / -type f -name "$file1")
 do
  if [ "$file1" == "org.gtk.vfs.UDisks2VolumeMonitor.service" ] || [ "$file1" == "udisks2.monitor" ]; then
   [ "$(which pup-volume-monitor)" != "" ] && mv -f $file2 ${file2}.bak
  else
   mv -f $file2 ${file2}.bak
  fi
 done

done
