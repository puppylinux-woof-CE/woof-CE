#!/bin/bash
#rxvt does not understand the '-hold' option.
#urxvt 20120214

if [[ "$@" == *'-hold '* ]] ; then
  EXECCOMMAND=${@//-hold/}
  EXECCOMMAND=${EXECCOMMAND#*-e }
  if [ "$EXECCOMMAND" != "" ];then
    (
    echo '#!/bin/sh'
    echo "$EXECCOMMAND"
    echo 'echo'
    echo 'echo -n "FINISHED. PRESS ENTER KEY TO CLOSE THIS WINDOW: "'
    echo 'read simuldone'
    )  > /tmp/xterm_simulate_hold.sh
    #chmod +x /tmp/xterm_simulate_hold.sh
    exec urxvt -title xterm -e bash /tmp/xterm_simulate_hold.sh
  fi
fi

exec urxvt "${@}"
