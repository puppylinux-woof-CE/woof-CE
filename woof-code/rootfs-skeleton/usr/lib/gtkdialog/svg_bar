#!/bin/bash
#generates bar as a svg-file to stdout
#
#usage:
# svg_bar HEIGHT WIDTH PROGRESS "Text"
#
# HEIGHT and WIDTH are are defined number of pixels
# PROGRESS is defined by percent
#
#Sigmund Berglund, dec 2013
#GPL

echo '<?xml version="1.1" encoding="UTF-8"?>
<svg height="'$1'" width="'$2'">
  <defs>
	<linearGradient id="LGD_02">
	  <stop style="stop-color:#D7302A;stop-opacity:1" offset="0" />
	  <stop style="stop-color:#D7302A;stop-opacity:0" offset="1" />
	</linearGradient>
	<linearGradient id="LG_02"
	   x1="'$(($3-3))'" y1="10" x2="'$3'" y2="10"
	   xlink:href="#LGD_02"
	   gradientUnits="userSpaceOnUse" />
  </defs>
  <rect style="fill:#3FA04E;stroke:#404040" width="'$2'" height="'$1'" x="0" y="0"/>
  <rect style="fill:url(#LG_02);" width="'$(($2-2))'" height="'$(($1-2))'" x="1" y="1"/>
  <text
	 style="fill:#353535;font-family:Mono;font-size:'$(($1/2))';text-anchor:middle"
	 x="'$(($2/2))'" y="'$(($1*17/24))'">
	'$4'
  </text>
</svg>'
