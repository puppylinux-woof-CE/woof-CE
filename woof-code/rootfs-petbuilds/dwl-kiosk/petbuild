download() {
    [ -f dwl-4eabf6f7eb4ec596e41db4ced0c5ac7149e0eaeb.zip ] || wget -t 3 -T 60 -O dwl-4eabf6f7eb4ec596e41db4ced0c5ac7149e0eaeb.zip https://github.com/djpohly/dwl/archive/4eabf6f7eb4ec596e41db4ced0c5ac7149e0eaeb.zip
}

build() {
    unzip dwl-4eabf6f7eb4ec596e41db4ced0c5ac7149e0eaeb.zip
    cd dwl-4eabf6f7eb4ec596e41db4ced0c5ac7149e0eaeb
    patch -p1 < ../dwl-kiosk.patch
    sed -e s/^#XWAYLAND/XWAYLAND/ -e s/^#XLIBS/XLIBS/ -i config.mk
    cp -f ../config.h .
    make
    install -D -m 755 dwl /usr/bin/dwl-kiosk
    $CC $CFLAGS ../dwl-send.c $LDFLAGS -o /usr/bin/dwl-send
    $CC $CFLAGS ../dwl-status.c $LDFLAGS -o /usr/bin/dwl-status
}